package com.uob.edag.runtime;

import org.apache.tools.ant.taskdefs.Replace;
import org.junit.Test;

import java.util.Arrays;
import java.util.regex.Pattern;

/**
 * Created by cs186076 on 23/5/17.
 */
public class RegexTest {

    private String record = "SCEEA000004\u000722ECUS4    \u0007CN8CCO09  \u000720160222  \u0007CN8CCO10  \u000720160222  \u00073    \u00070    \u0007HKBEADSA\u0007M\u0007C\u0007SCEEA000004\u0007162230500001820160222001519075     \u000720160222  \u0007CNP\u0007Pending Collection            \u0007E-DRAFT CUSTOMER 4                 \u0007E-DRAFT CUSTOMER4-LINE1            \u0007E-DRAFT CUSTOMER4-LINE2            \u0007E-DRAFT CUSTOMER4-LINE3            \u00072023002762                         \u0007110101      \u000720160223  \u00071    \u0007AC01\u0007CNY\u00071000.03          \u0007EM00\u0007RM00\u00073.000000  \u000720160222  \u000720160223  \u00071    \u0007CNY\u00071000.03          \u00070         \u00070         \u0007.000000   \u0007   \u0007.00              \u0007                                   \u00072023002762                         \u000720200001-7\u0007RC01\u0007622305000018  \u0007 µçÆ±¿Í»§£¨Ò»£©                                       \u0007                                                      \u0007                                                      \u00071023116982                         \u0007622290000016  \u0007 ´ó»ªÒøÐÐ                                             \u0007                                                      \u0007                                                      \u00070                                  \u0007622305000018  \u0007 ´ó»ªÒøÐÐ                                             \u0007                                                      \u0007                                                      \u00071023117032                         \u000710002382-4\u0007RC01\u0007622100000045  \u0007 µçÆ±¿Í»§£¨ËÄ£©                                       \u0007                                                      \u0007                                                      \u000710001969-X\u0007RC00\u0007622100000045  \u0007UOB China Beijing Branch                              \u0007                                                      \u0007                                                      \u0007                                   \u0007622100000045  \u0007    \u0007    \u0007                                                  \u0007                                                  \u0007                                                  \u00070         \u0007   \u0007.00              \u0007                                                      \u0007                                                      \u0007                                                      \u00071023000658                         \u0007                              \u0007N\u0007CNY\u0007100.00           \u00070         \u0007UOVBCNSHXXX\u0007UOB (CHINA) LIMITED                \u00071\u0007E\u0007    \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u0007                                                                \u00070                                  \u0007    \u0007                                                  \u0007                                                  \u0007                                                  \u0007PT01\u0007.000000   \u0007CNY\u0007.00              \u0007.00              \u0007899.95           \u0007899.95           \u0007                                   \u0007                                                      \u0007                                                      \u0007                                                      \u0007SM01\u0007 \u0007 \u0007DT\u0007U\u00072\u0007 \u0007A\u0007        \u0007                                                            \u0007REQ10004\u00072016022200001404\u0007CNY\u00071000.03          \u00071000.03          \u0007    \u0007                                   \u0007                                                      \u0007                                                      \u0007                                                      \u0007                                   \u0007                                   \u0007                                   \u0007                                   \u000720160222  \u00071824  \u00071.000000  \u0007.08              \u0007100.00           \u00070         \u000720170317  \u0007.00              \u0007.00              \u0007.00              \u0007.00              \u0007AV\u0007CNY\u00071000.03          \u0007 \u0007 \u0007 \u0007 \u0007 \u0007122  ";

    @Test
    public void regexNewLineTest(){
        ReplaceStep rs = new ReplaceStep();
        Pattern regex = Pattern.compile("^.*[\\u0007].*$");
        rs.setRegexp(regex);
        rs.setReplace("");
        rs.setReplace_pattern("[07|00|0E|0F]+");
        System.out.println("actual :"+record);
        record = rs.performStep(record);
        System.out.println("New :"+record);
    }
}
